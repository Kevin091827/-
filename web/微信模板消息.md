>近期项目用到了微信的模板消息，今天想写一个demo总结下微信模板消息开发的流程和相关注意事项

## 一，相关配置和申请流程

### 1.获得微信模板消息ID

通过微信公众平台的开发文档阅读可知，申请微信模板消息ID比较方便的方式还是直接
手动配置获取模板消息ID

主要步骤：

- 选取模板
- 编辑模板
- 添加模板
- 复制id


![在这里插入图片描述](https://img-blog.csdnimg.cn/20190707220046632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70)

### 2.调用接口完成模板消息发送

请求地址：
>POST https://api.weixin.qq.com/cgi-bin/message/wxopen/template/send?access_token=ACCESS_TOKEN

请求参数：

![在这里插入图片描述](https://img-blog.csdnimg.cn/20190707220512775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70)

返回参数：

![在这里插入图片描述](https://img-blog.csdnimg.cn/20190707220628490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70)

errcode合法值:

![在这里插入图片描述](https://img-blog.csdnimg.cn/20190707220657175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70)


请求参数示例:
```json
{
  "touser": "OPENID",
  "template_id": "TEMPLATE_ID",
  "page": "index",
  "form_id": "FORMID",
  "data": {
      "keyword1": {
          "value": "339208499"
      },
      "keyword2": {
          "value": "2015年01月05日 12:30"
      },
      "keyword3": {
          "value": "腾讯微信总部"
      } ,
      "keyword4": {
          "value": "广州市海珠区新港中路397号"
      }
  },
  "emphasis_keyword": "keyword1.DATA"
}
```

注意：

- data即模板消息内容实体，注意申请模板消息时keyword对应的选项